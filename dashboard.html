<!DOCTYPE html>
<html>
<head>
  <title>Dashboard | Apna Punjab SMP</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Full screen flashy welcome -->
<div class="full-screen-message">
  <img src="welcome-logo.png" class="welcome-img">
  <h2>à¨«à©œà©à¨¹à¨²à©‹ ğŸ–•ğŸ»</h2>
</div>

<!-- Main dashboard panel -->
<div class="dashboard">
  <h1>Welcome Team ğŸš€</h1>
  <p class="subtitle">Apna Punjab SMP â€“ Staff Panel</p>

  <!-- Staff role cards -->
  <div class="staff-cards">
    <div class="card owner">Owner: stevejatt</div>
    <div class="card one-owner">Owner: Gurisidhu</div>
    <div class="card devloper">server dev: Exogurir</div>
    <div class="card one-devloper">web dev: Tanvir</div>
    <div class="card admin">admin: Manuxpaji</div>
  </div>

  <!-- Interactive buttons -->
  <div class="dashboard-buttons">
    <button onclick="copyIP()">Copy Server IP</button>
    <a href="https://discord.gg/PjkNUFE8HW" target="_blank">
      <button>Discord</button>
    </a>
    <a href="donate.html" target="_blank">
      <button>Donate</button>
    </a>
  </div>

  <!-- Live server status -->
  <div class="server-status">
    <p id="server-status">Loading server status...</p>
    <p id="players"></p>
  </div>

  <!-- Logout -->
  <button class="logout-btn" onclick="logout()">Logout</button>
</div>

<!-- Firebase + server scripts -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyD_TqdF0ORIco-u-i2lOjrXOYocqSXWGdo",
    authDomain: "team-login-30ab2.firebaseapp.com",
    projectId: "team-login-30ab2",
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Protect dashboard
  auth.onAuthStateChanged(user => {
    if (!user) {
      window.location.href = "team-login.html";
    }
  });

  // Logout
  function logout() {
    auth.signOut().then(() => {
      window.location.href = "team-login.html";
    });
  }

  // Copy server IP
  function copyIP() {
    navigator.clipboard.writeText("apnapunjab.fun");
    alert("Server IP Copied!");
  }

  // Live Minecraft server status
  fetch("https://api.mcsrvstat.us/2/apnapunjab.fun")
    .then(res => res.json())
    .then(data => {
      const status = document.getElementById("server-status");
      const players = document.getElementById("players");

      if (data.online) {
        status.innerHTML = "ğŸŸ¢ Server is ONLINE";
        players.innerHTML = `ğŸ‘¥ Players: ${data.players.online} / ${data.players.max}`;
      } else {
        status.innerHTML = "ğŸ”´ Server is OFFLINE";
        players.innerHTML = "";
      }
    })
    .catch(() => {
      document.getElementById("server-status").innerText = "âš ï¸ Status unavailable";
      document.getElementById("players").innerText = "";
    });
</script>
  
<script src="script.js"></script>
</body>
</html>
